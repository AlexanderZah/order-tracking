syntax = "proto3";

package pdfanalyzer;
option go_package = "github.com/AlexanderZah/content-analyzer/proto/pdfanalyzer;pdfanalyzer";

service PDFAnalyzer {
    rpc Analyze (AnalyzeRequest) returns (AnalyzeResponse);
}

message AnalyzeRequest {
    bytes file_data = 1; // PDF-file bytes
}

message Heading {
  string id = 1;     // "step-1", "chapter-2" и т.п.
  string text = 2;   // Текст заголовка
  int32 page = 3;    // Номер страницы
}

message AnalyzeResponse {
  string extracted_text = 1;       // Весь текст, если нужен
  repeated Heading headings = 2;   // Только заголовки
}